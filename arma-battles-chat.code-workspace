{
	"folders": [
		{
			"name": "ğŸ  Root",
			"path": "."
		},
		{
			"name": "ğŸ¦€ Backend (Rust)",
			"path": "arma-backend"
		},
		{
			"name": "âš›ï¸ Frontend (React)",
			"path": "arma-frontend"
		}
	],
	"settings": {
		// Editor
		"editor.formatOnSave": true,
		"editor.codeActionsOnSave": {
			"source.fixAll": "explicit"
		},
		"files.trimTrailingWhitespace": true,

		// Rust
		"rust-analyzer.checkOnSave.command": "clippy",
		"rust-analyzer.cargo.features": "all",
		"rust-analyzer.inlayHints.enable": true,

		// TypeScript/JavaScript
		"typescript.tsdk": "arma-frontend/node_modules/typescript/lib",
		"typescript.enablePromptUseWorkspaceTsdk": true,

		// Exclude from search
		"search.exclude": {
			"**/node_modules": true,
			"**/target": true,
			"**/dist": true,
			"**/.yarn": true,
			"**/build": true
		},

		// File associations
		"files.associations": {
			"*.toml": "toml",
			"Revolt.toml": "toml",
			"Revolt.*.toml": "toml"
		},

		// Terminal
		"terminal.integrated.env.windows": {
			"PATH": "${env:HOME}/.cargo/bin;${env:PATH}"
		}
	},
	"extensions": {
		"recommendations": [
			// Rust
			"rust-lang.rust-analyzer",
			"vadimcn.vscode-lldb",
			"serayuzgur.crates",

			// Frontend
			"dbaeumer.vscode-eslint",
			"esbenp.prettier-vscode",
			"bradlc.vscode-tailwindcss",

			// General
			"editorconfig.editorconfig",
			"ms-azuretools.vscode-docker",
			"tamasfe.even-better-toml",
			"redhat.vscode-yaml"
		]
	},
	"launch": {
		"version": "0.2.0",
		"configurations": [
			{
				"name": "ğŸ¦€ Debug Delta (API)",
				"type": "lldb",
				"request": "launch",
				"cargo": {
					"args": [
						"build",
						"--bin=revolt-delta",
						"--package=revolt-delta"
					],
					"filter": {
						"name": "revolt-delta",
						"kind": "bin"
					}
				},
				"args": [],
				"cwd": "${workspaceFolder:ğŸ¦€ Backend (Rust)}",
				"env": {
					"REVOLT_CONFIG": "${workspaceFolder:ğŸ¦€ Backend (Rust)}/Revolt.toml"
				}
			},
			{
				"name": "ğŸ¦€ Debug Bonfire (WebSocket)",
				"type": "lldb",
				"request": "launch",
				"cargo": {
					"args": [
						"build",
						"--bin=revolt-bonfire",
						"--package=revolt-bonfire"
					],
					"filter": {
						"name": "revolt-bonfire",
						"kind": "bin"
					}
				},
				"args": [],
				"cwd": "${workspaceFolder:ğŸ¦€ Backend (Rust)}"
			},
			{
				"name": "ğŸ¦€ Debug Autumn (Files)",
				"type": "lldb",
				"request": "launch",
				"cargo": {
					"args": [
						"build",
						"--bin=revolt-autumn",
						"--package=revolt-autumn"
					],
					"filter": {
						"name": "revolt-autumn",
						"kind": "bin"
					}
				},
				"args": [],
				"cwd": "${workspaceFolder:ğŸ¦€ Backend (Rust)}"
			}
		],
		"compounds": [
			{
				"name": "ğŸš€ Debug All Backend Services",
				"configurations": [
					"ğŸ¦€ Debug Delta (API)",
					"ğŸ¦€ Debug Bonfire (WebSocket)",
					"ğŸ¦€ Debug Autumn (Files)"
				]
			}
		]
	},
	"tasks": {
		"version": "2.0.0",
		"tasks": [
			{
				"label": "ğŸš€ Start Dev Environment",
				"type": "shell",
				"command": "./start-dev.sh",
				"problemMatcher": [],
				"presentation": {
					"reveal": "always",
					"panel": "new"
				}
			},
			{
				"label": "ğŸ›‘ Stop Dev Environment",
				"type": "shell",
				"command": "./stop-dev.sh",
				"problemMatcher": []
			},
			{
				"label": "ğŸ¦€ Build Backend (Release)",
				"type": "shell",
				"command": "cargo build --release",
				"options": {
					"cwd": "${workspaceFolder:ğŸ¦€ Backend (Rust)}"
				},
				"problemMatcher": ["$rustc"]
			},
			{
				"label": "ğŸ¦€ Check Backend (Fast)",
				"type": "shell",
				"command": "cargo check",
				"options": {
					"cwd": "${workspaceFolder:ğŸ¦€ Backend (Rust)}"
				},
				"problemMatcher": ["$rustc"],
				"group": {
					"kind": "build",
					"isDefault": true
				}
			},
			{
				"label": "ğŸ¦€ Test Backend",
				"type": "shell",
				"command": "cargo test",
				"options": {
					"cwd": "${workspaceFolder:ğŸ¦€ Backend (Rust)}"
				},
				"problemMatcher": ["$rustc"],
				"group": {
					"kind": "test",
					"isDefault": true
				}
			},
			{
				"label": "âš›ï¸ Start Frontend Dev Server",
				"type": "shell",
				"command": "yarn dev",
				"options": {
					"cwd": "${workspaceFolder:âš›ï¸ Frontend (React)}"
				},
				"problemMatcher": [],
				"isBackground": true
			},
			{
				"label": "âš›ï¸ Build Frontend",
				"type": "shell",
				"command": "yarn build",
				"options": {
					"cwd": "${workspaceFolder:âš›ï¸ Frontend (React)}"
				},
				"problemMatcher": []
			},
			{
				"label": "âš›ï¸ Test Frontend",
				"type": "shell",
				"command": "yarn test",
				"options": {
					"cwd": "${workspaceFolder:âš›ï¸ Frontend (React)}"
				},
				"problemMatcher": []
			},
			{
				"label": "ğŸ³ Start Docker Services",
				"type": "shell",
				"command": "docker compose up -d mongodb redis minio rabbitmq maildev",
				"problemMatcher": []
			},
			{
				"label": "ğŸ³ Stop Docker Services",
				"type": "shell",
				"command": "docker compose down",
				"problemMatcher": []
			}
		]
	}
}
